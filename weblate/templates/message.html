{% load i18n icons translations %}

<div class="alert alert-{% block tags %}{% get_message_kind tags %} {{ tags }}{% endblock %}
   " {% if can_delete and announcement %} data-action="{% url 'announcement-delete' pk=announcement.pk %}" {% endif %} {% if task_id %} data-task="{% url 'api:task-detail' pk=task_id %}" {% endif %}>
  {% if can_delete and announcement %}
    <button type="button"
            class="btn btn-link btn-red {% if bootstrap_5 %}float-end{% else %}pull-right flip{% endif %}"
            {% if bootstrap_5 %} data-bs-dismiss="alert" {% else %} data-dismiss="alert" {% endif %}
            title="{% translate "Delete announcement" %}">{% icon "delete.svg" %}</button>
  {% elif can_delete %}
    <button type="button"
            class="{% if bootstrap_5 %}btn-close{% else %}close{% endif %}"
            {% if bootstrap_5 %}data-bs-dismiss="alert"{% else %}data-dismiss="alert"{% endif %}
            aria-label="Close">
      {% if not bootstrap_5 %}<span aria-hidden="true">Ã—</span>{% endif %}
    </button>
  {% endif %}
  {% block message %}{{ message }}{% endblock %}

  <div class="clearfix"></div>
  {% if task_id %}
    <div class="progress">
      <div class="progress-bar progress-bar-success"
           role="progressbar"
           aria-valuenow="{{ progress }}"
           aria-valuemin="0"
           aria-valuemax="100"
           style="width: {{ progress }}%"></div>
    </div>
  {% endif %}
</div>
