{% extends "base.html" %}

{% load i18n %}
{% load static %}

{% block breadcrumbs %}
  <li>
    <a href="{{ object.get_absolute_url }}">{{ object }}</a>
  </li>
  <li>
    <a href="{% url "widgets" path=object.get_url_path %}">{% translate "Widgets" %}</a>
  </li>
{% endblock breadcrumbs %}

{% block content %}

  <h2>{% translate "Promoting translation projects" %}</h2>

  <p>
    {% blocktranslate %}You can point newcomers to the introduction page at {{ engage_link }}.{% endblocktranslate %}
  </p>

  <h3>{% translate "Promoting specific translations" %}</h3>

  <form class="autosubmit">
    {% translate "Besides promoting the whole translation project, you can also choose a specific language or component to promote:" %}
  </form>

  <h3>{% translate "Image widgets" %}</h3>

  <p>
    {% translate "You can use the following widgets to promote translation of your project. They can increase the visibility of your translation projects and bring in new contributors." %}
  </p>

  <div class="row mt-4">
    <div class="col-md-4">
      <div class="widget-card bg-white p-3">
        <h4>Widget Settings</h4>
        <label for="widget_type" class="form-label mt-2">{% translate "Widget" %}</label>
        <select id="widget_type" class="select-tab form-control">
          {% for widget in widget_list %}
            <option value="{{ widget.name }}">{% translate widget.verbose %}</option>
          {% endfor %}
        </select>
        <label for="translation_language" class="form-label mt-2">{% translate "Language" %}</label>
        <select id="translation_language" class="select-tab form-control">
          {% for language in form.lang.field.choices %}
            <option value="{{ language.0 }}">{% translate language.1 %}</option>
          {% endfor %}
        </select>
        <label for="component" class="form-label mt-2">{% translate "Component" %}</label>
        <select id="component" class="select-tab form-control">
          {% for component in form.component.field.choices %}
            <option value="{{ component.0 }}">{% translate component.1 %}</option>
          {% endfor %}
        </select>
        <label for="code_language" class="form-label mt-2">{% translate "Code" %}</label>
        <select id="code_language" class="select-tab form-control">
          <option value="html">{% translate "HTML" %}</option>
          <option value="bb-code">{% translate "BBCode" %}</option>
          <option value="mdk">{% translate "Markdown" %}</option>
          <option value="rst">{% translate "reStructuredText" %}</option>
          <option value="textile-code">{% translate "Textile code" %}</option>
          <option value="url">{% translate "Image URL" %}</option>
        </select>
        <label for="color_select" class="form-label mt-2">{% translate "Color" %}</label>
        <select id="color_select" class="form-control">
          <!-- Options will be populated dynamically -->
        </select>
        <div id="extra-parameters"></div>
      </div>
    </div>

    <div class="col-md-8">
      <div class="widget-card bg-white p-3">
        <h4>Live Preview</h4>
        <div class="preview-box" id="preview">
          <img id="widgetImage" src="{{ image_src }}" alt="{% translate "Translation status" %}" style="max-width: 500px;" />
        </div>
      </div>

      <div class="widget-card bg-white p-3">
        <h4>Embed Code</h4>
        <textarea id="embedCode" class="code-example form-control" rows="3" readonly>
        </textarea>
      </div>
    </div>
  </div>

{% endblock content %}

{% block extra_script %}
  <script type="application/json" id="widgets-data">
    {{ widgets_json|safe }}
  </script>
  <script defer data-cfasync="false" src="{% static "js/widgets.js" %}{{ cache_param }}"></script>
{% endblock %}
